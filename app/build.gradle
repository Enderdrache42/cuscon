apply plugin: 'com.android.application'

android {
    compileSdkVersion rootProject.ext.CompileSdk

    defaultConfig {
        applicationId 'com.froxot.cuscon'
        minSdkVersion rootProject.ext.MinSdk
        targetSdkVersion rootProject.ext.TargetSdk
        versionCode 3010
        versionName '3.0.1.0'
        multiDexEnabled true

        // Naming app bundles
        setArchivesBaseName("${parent.name}-v${versionCode}")
    }

    bundle {
        language { enableSplit false }
    }

    buildTypes {
        release {
            debuggable false
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
    
    flavorDimensions "variant"
	productFlavors {
		play {
			dimension "variant"
			resValue "string", "app_name", "Cuscon"
			matchingFallbacks = ["play"]
		}
		foss {
			dimension "variant"
			applicationIdSuffix '.foss'
			resValue "string", "app_name", "Cuscon"
			matchingFallbacks = ["foss"]
		}
	}


    sourceSets {
        play { java.srcDirs = ['src/play/java/'] }
        foss { java.srcDirs = ['src/foss/java/'] }

    }


    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    namespace 'com.froxot.cuscon'
}

dependencies {
	playImplementation 'com.github.zixpo:candybar:3.17.4'
	fossImplementation 'com.github.Donnnno:candybar-foss:3.17.4'
}
